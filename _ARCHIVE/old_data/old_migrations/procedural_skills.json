{
  "skills": [
    {
      "skill_id": "fix_sqlite_health_check",
      "name": "Fix SQLite Health Check Error",
      "category": "debugging",
      "description": "Resolve \"cannot operate on closed database\" error in health check by creating fresh database instance instead of reusing global singleton.",
      "steps": [
        {
          "step_number": 1,
          "action": "Identify symptom",
          "details": "health_check() fails with \"cannot operate on closed database\" error",
          "expected_outcome": "Error message clearly shows database connection issue",
          "common_errors": [
            "Misinterpreting as permission error",
            "Thinking database is corrupted"
          ]
        },
        {
          "step_number": 2,
          "action": "Root cause analysis",
          "details": "Global singleton database instance is being reused across calls, causing connection conflicts",
          "expected_outcome": "Understanding that shared state is the problem",
          "common_errors": [
            "Trying to fix by reconnecting",
            "Adding connection pooling"
          ]
        },
        {
          "step_number": 3,
          "action": "Implement solution",
          "details": "Create fresh SQLiteDatabase instance in health_check() method: test_db = SQLiteDatabase(db_path)",
          "expected_outcome": "Each health check gets isolated database connection",
          "common_errors": [
            "Forgetting to pass db_path",
            "Not closing new connection"
          ]
        },
        {
          "step_number": 4,
          "action": "Verify fix",
          "details": "Run health monitoring, check that services show 2/2 healthy",
          "expected_outcome": "All services healthy, no connection errors",
          "common_errors": [
            "Not testing after fix",
            "Only testing once"
          ]
        }
      ],
      "prerequisites": [
        "Python environment",
        "SQLite database",
        "Database manager class"
      ],
      "tools_required": [
        "Python",
        "aiosqlite",
        "pytest (optional)"
      ],
      "difficulty": "medium",
      "estimated_time_minutes": 15,
      "success_rate": 1.0,
      "usage_count": 1,
      "last_used": "2025-11-17T14:29:46.547217",
      "created_date": "2025-11-17T14:29:46.547217",
      "tags": [
        "sqlite",
        "debugging",
        "database",
        "health-check",
        "singleton-pattern"
      ]
    },
    {
      "skill_id": "setup_mitm_proxy",
      "name": "Setup MITM Proxy with Decision Engine",
      "category": "deployment",
      "description": "Install and configure mitmproxy with custom addon that communicates with FastAPI decision engine for traffic filtering.",
      "steps": [
        {
          "step_number": 1,
          "action": "Install mitmproxy",
          "details": "pip install mitmproxy in virtual environment",
          "expected_outcome": "mitmproxy and mitmdump commands available",
          "common_errors": [
            "Installing globally instead of venv",
            "Python version conflicts"
          ]
        },
        {
          "step_number": 2,
          "action": "Create proxy manager",
          "details": "Build MITMProxyManager class to control mitmdump as subprocess",
          "expected_outcome": "Can start/stop/restart proxy programmatically",
          "common_errors": [
            "Not handling process cleanup",
            "Forgetting to check if already running"
          ]
        },
        {
          "step_number": 3,
          "action": "Create mitmproxy addon",
          "details": "Write addon script that intercepts requests and calls decision API",
          "expected_outcome": "Addon successfully hooks into request flow",
          "common_errors": [
            "Wrong addon API version",
            "Not importing http module",
            "Missing requests package"
          ]
        },
        {
          "step_number": 4,
          "action": "Build decision engine",
          "details": "Implement traffic rules: time-based blocks, site filtering, content injection",
          "expected_outcome": "Rules evaluate correctly based on context",
          "common_errors": [
            "Not handling timezones",
            "Hardcoding user IDs"
          ]
        },
        {
          "step_number": 5,
          "action": "Create FastAPI endpoints",
          "details": "Build /api/intercept endpoint that receives traffic data and returns decisions",
          "expected_outcome": "Addon can communicate with decision engine",
          "common_errors": [
            "CORS issues",
            "Timeout too short",
            "Wrong response format"
          ]
        },
        {
          "step_number": 6,
          "action": "Test traffic flow",
          "details": "Use curl with -x proxy flag to test allow/block/inject scenarios",
          "expected_outcome": "All three decision types work correctly",
          "common_errors": [
            "Not configuring CA cert",
            "Testing only HTTP not HTTPS",
            "Forgetting to start FastAPI server"
          ]
        }
      ],
      "prerequisites": [
        "Python 3.10+",
        "Virtual environment",
        "FastAPI knowledge",
        "Network basics"
      ],
      "tools_required": [
        "mitmproxy",
        "FastAPI",
        "uvicorn",
        "requests",
        "curl (for testing)"
      ],
      "difficulty": "hard",
      "estimated_time_minutes": 120,
      "success_rate": 1.0,
      "usage_count": 1,
      "last_used": "2025-11-17T14:29:46.547217",
      "created_date": "2025-11-17T14:29:46.547217",
      "tags": [
        "mitm",
        "proxy",
        "fastapi",
        "network",
        "traffic-filtering",
        "adhd",
        "aiki-home"
      ]
    },
    {
      "skill_id": "migrate_json_to_mem0",
      "name": "Migrate JSON Memories to mem0/Qdrant",
      "category": "migration",
      "description": "Convert structured JSON memory files to natural language and store in mem0 vector database with intelligent deduplication.",
      "steps": [
        {
          "step_number": 1,
          "action": "Analyze JSON structure",
          "details": "Examine JSON files to understand schema and data types",
          "expected_outcome": "Clear understanding of all fields and their meanings",
          "common_errors": [
            "Not checking for variations in schema",
            "Missing nested fields"
          ]
        },
        {
          "step_number": 2,
          "action": "Design formatters",
          "details": "Create functions to convert JSON to natural language text",
          "expected_outcome": "Readable, searchable text that preserves all important information",
          "common_errors": [
            "Too verbose",
            "Losing metadata",
            "Not handling edge cases"
          ]
        },
        {
          "step_number": 3,
          "action": "Setup mem0 config",
          "details": "Configure mem0 with OpenRouter for LLM and embeddings, Qdrant for storage",
          "expected_outcome": "mem0.add() calls work without errors",
          "common_errors": [
            "Wrong API keys",
            "Invalid model names",
            "Path permissions"
          ]
        },
        {
          "step_number": 4,
          "action": "Batch processing",
          "details": "Loop through files, format, and add to mem0 with metadata",
          "expected_outcome": "All files processed, mem0 deduplicates intelligently",
          "common_errors": [
            "Not handling API rate limits",
            "Missing error handling",
            "Wrong user_id"
          ]
        },
        {
          "step_number": 5,
          "action": "Verify migration",
          "details": "Use mem0.search() to test that memories are retrievable",
          "expected_outcome": "Can find memories using natural language queries",
          "common_errors": [
            "Not testing search",
            "Assuming all data migrated without checking"
          ]
        }
      ],
      "prerequisites": [
        "JSON files to migrate",
        "mem0 installed",
        "OpenRouter API key",
        "Qdrant database"
      ],
      "tools_required": [
        "Python",
        "mem0",
        "json module",
        "qdrant-client"
      ],
      "difficulty": "medium",
      "estimated_time_minutes": 45,
      "success_rate": 1.0,
      "usage_count": 2,
      "last_used": "2025-11-17T14:29:46.547217",
      "created_date": "2025-11-17T14:29:46.547217",
      "tags": [
        "migration",
        "mem0",
        "qdrant",
        "json",
        "embeddings",
        "memory-system"
      ]
    },
    {
      "skill_id": "create_knowledge_graph_mem0",
      "name": "Create Knowledge Graph using mem0 Metadata",
      "category": "development",
      "description": "Build entity-relationship graph by storing entities and relations in mem0 with structured metadata for graph queries.",
      "steps": [
        {
          "step_number": 1,
          "action": "Define entity types",
          "details": "Create Enum for entity types: Person, System, Rule, Hardware, etc.",
          "expected_outcome": "Clear taxonomy of all entity categories",
          "common_errors": [
            "Too many types",
            "Overlapping categories"
          ]
        },
        {
          "step_number": 2,
          "action": "Define relation types",
          "details": "Create Enum for relationships: uses, requires, enforces, depends_on, etc.",
          "expected_outcome": "Comprehensive set of meaningful relationships",
          "common_errors": [
            "Too generic relations",
            "Not bidirectional when needed"
          ]
        },
        {
          "step_number": 3,
          "action": "Create entity class",
          "details": "Dataclass with id, name, type, and properties dict",
          "expected_outcome": "Entities can store arbitrary metadata",
          "common_errors": [
            "Hardcoding properties",
            "Missing validation"
          ]
        },
        {
          "step_number": 4,
          "action": "Create relation class",
          "details": "Dataclass linking source entity to target entity via relation type",
          "expected_outcome": "Relations are typed and queryable",
          "common_errors": [
            "Not storing relation properties",
            "Circular reference bugs"
          ]
        },
        {
          "step_number": 5,
          "action": "Store in mem0",
          "details": "Convert entities/relations to text + metadata, store with memory_type tag",
          "expected_outcome": "Graph is searchable and queryable via mem0",
          "common_errors": [
            "Forgetting metadata",
            "Not making text searchable"
          ]
        },
        {
          "step_number": 6,
          "action": "Implement graph queries",
          "details": "Build path finding (BFS), relation traversal, entity lookup",
          "expected_outcome": "Can answer \"how is X connected to Y?\" queries",
          "common_errors": [
            "Not handling cycles",
            "Infinite loops",
            "Missing entities"
          ]
        }
      ],
      "prerequisites": [
        "mem0 setup",
        "Graph theory basics",
        "Python dataclasses"
      ],
      "tools_required": [
        "Python",
        "mem0",
        "dataclasses",
        "typing module"
      ],
      "difficulty": "medium",
      "estimated_time_minutes": 60,
      "success_rate": 1.0,
      "usage_count": 1,
      "last_used": "2025-11-17T14:29:46.547217",
      "created_date": "2025-11-17T14:29:46.547217",
      "tags": [
        "knowledge-graph",
        "mem0",
        "entities",
        "relations",
        "graph-queries",
        "metadata"
      ]
    },
    {
      "skill_id": "enable_claude_god_mode",
      "name": "Enable Claude Code God Mode (Auto-Accept Edits)",
      "category": "configuration",
      "description": "Configure Claude Code to automatically accept file edits without prompting user, eliminating confirmation friction.",
      "steps": [
        {
          "step_number": 1,
          "action": "Locate settings file",
          "details": "Find ~/.claude/settings.json (create if not exists)",
          "expected_outcome": "Settings file is accessible",
          "common_errors": [
            "Wrong path",
            "Permission denied",
            "JSON syntax errors"
          ]
        },
        {
          "step_number": 2,
          "action": "Add correct setting",
          "details": "Use permissions.defaultMode: \"acceptEdits\" NOT requireEditApproval: false",
          "expected_outcome": "Setting is valid and recognized",
          "common_errors": [
            "Using requireEditApproval (invalid)",
            "Typo in \"acceptEdits\"",
            "Wrong JSON structure"
          ]
        },
        {
          "step_number": 3,
          "action": "Restart Claude Code",
          "details": "Close and reopen Claude Code for settings to take effect",
          "expected_outcome": "New setting is loaded",
          "common_errors": [
            "Not restarting",
            "Multiple instances running"
          ]
        },
        {
          "step_number": 4,
          "action": "Verify god mode",
          "details": "Make an edit, confirm no approval prompt appears",
          "expected_outcome": "Edits apply instantly without user confirmation",
          "common_errors": [
            "Testing with wrong file type",
            "Hooks blocking edits"
          ]
        }
      ],
      "prerequisites": [
        "Claude Code installed",
        "File system access"
      ],
      "tools_required": [
        "Text editor",
        "Claude Code"
      ],
      "difficulty": "easy",
      "estimated_time_minutes": 5,
      "success_rate": 1.0,
      "usage_count": 1,
      "last_used": "2025-11-17T14:29:46.547217",
      "created_date": "2025-11-17T14:29:46.547217",
      "tags": [
        "claude-code",
        "configuration",
        "god-mode",
        "settings",
        "workflow-optimization"
      ]
    }
  ]
}